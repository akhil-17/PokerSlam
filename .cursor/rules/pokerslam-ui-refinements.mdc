---
description: 
globs: 
alwaysApply: false
---
# Poker Slam - Next Steps Instructions for Cursor

## 1. Fix Card Styling
The current card design does not match the intended visual style. Update the card rendering to reflect the following requirements:

### **Card Dimensions & Layout**
- **Width:** 40pts, **Height:** 60pts
- **Background color:** #191919
- **Corner Radius:** 8pts
- **Shadow:** x: 0, y: 1, radius: 2, color: #191919, opacity: 30%
- **Text Alignment:**
  - Card rank (7, 8, 9, etc.) should be centered at the top.
  - Suit icon should be centered below the rank.
  - Both elements should be vertically aligned with **4pt spacing**.

### **Font & Symbol Usage**
- **Rank Font:** SF Compact Semibold (or fallback to system default) at the 24pt size
- **Suit Font:** Use SF Symbols for Hearts, Diamonds, Clubs, and Spades at the 20pt size
- **Rank & Suit Colors:**
  - Hearts: `#C02D40`
  - Diamonds: `#CEAB27`
  - Clubs: `#1F7A1F`
  - Spades: `#292F36`

## 2. Implement Card Selection Logic
### **Selection Rules**
- Players can only select **adjacent** cards (including diagonals).
- Selected cards should highlight with:
  - **Border:** 1pt solid `#d4d4d4`
  - **Shadow:** Increased for emphasis
  - **Haptic feedback** when selected
- Invalid selections should:
  - Play an **error haptic feedback**
  - Animate a quick **wiggle effect** on the invalid card

### **Deselection Mechanic**
- Tapping an already selected card should **remove the selection** and play a **neutral haptic feedback**.

## 3. Card Movement & Animations
### **Initial Grid Animation**
- Cards should **fall into place row by row** at game start.
- Each card should animate using **rotation3DEffect()** for a staggered effect.

### **Hand Play Animation**
- When a valid hand is played:
  - Selected cards should **scale down and fade out**.
  - Cards above should **fall downward row by row**.
  - New cards should **fall from the top to refill empty slots**.

## 4. UI & Gameplay Enhancements
### **Score Display**
- Animate the **score label** when increasing.
- Show a pop-up effect for **new high scores**.

### **Game Over Screen**
- Detect when **no valid hands remain** and display **"Game Over"**.
- Add a **Play Again button** styled like the "Play Hand" button.
- Show "New High Score" if applicable.
- Include a **Main Menu button** in the top left corner.

### **Poker Hand Reference Overlay**
- Implement a **fullscreen overlay** when the **? button** is tapped.
- List all **valid poker hands** with descriptions & example cards.
- Example hands should be displayed in a **horizontally scrollable format**.

## 5. Final Testing & Optimization
- Ensure all animations and interactions are smooth.
- Fix any edge cases where the game may break (e.g., grid not refilling properly).
- Optimize re-renders to improve performance.



